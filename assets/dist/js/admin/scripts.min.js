"use strict";!function(d,e,n,a){d(n).ready(function(){function o(s,e){var t=2<arguments.length&&arguments[2]!==a?arguments[2]:null;3<arguments.length&&arguments[3]!==a&&arguments[3];if(xbeeHideSpinner("get-bees"),"error"!==t){d("#xbee-search-bees-results").html(""),s=s.toLowerCase();var n=[];e.forEach(function(e){if(""!=s){var t=-1<e.label.toLowerCase().indexOf(s),o=-1<e.bee_system_name.toLowerCase().indexOf(s),r=-1<e.description.toLowerCase().indexOf(s);(t||o||r)&&n.push(e)}}),0<n.length?(d("#xbee-search-bees-results").append('<table class="wp-list-table widefat striped"><thead><tr><th>'+xbeeDocumentAdminParams.text.beeName+"</th><th>"+xbeeDocumentAdminParams.text.beeSystemName+"</th><th>"+xbeeDocumentAdminParams.text.beeDescription+"</th></tr></thead><tbody></tbody></table>"),n.forEach(function(e){d("#xbee-search-bees-results table tbody").append(function(e){var t="<td>"+(e.label?e.label:e.bee_system_name)+"</td>",o="<td><code>"+e.bee_system_name+"</code></td>",r="<td>"+e.description+"</td>";return"<tr>"+t+o+r+"</tr>"}(e))})):0<s.length&&d("#xbee-search-bees-results").html(xbeeDocumentAdminParams.messages.errorFindBeesNoBees)}else d("#xbee-search-bees-results").html(xbeeDocumentAdminParams.messages.errorFindBees)}function e(){var e=d('[name="xbee_document_dropzone_base_font_size"]').val(),t=d('[name="xbee_document_dropzone_base_font_size_unit"]').val(),o=d('[name="xbee_document_dropzone_border_radius"]').val(),r=d('[name="xbee_document_dropzone_border_radius_unit"]').val(),s=d('[name="xbee_document_dropzone_text_color"]').val(),n=d('[name="xbee_document_dropzone_primary_color"]').val(),a=d('[name="xbee_document_dropzone_secondary_color"]').val();d("#xbee-dropzone-preview").css("color",s),d("#xbee-dropzone-preview").css("background-color",a),d("#xbee-dropzone-preview").css("font-size",e+t),d("#xbee-dropzone-preview").css("border-radius",o+r),d("#xbee-dropzone-preview .xbee-dropzone").css("border-radius",o+r),d("#xbee-dropzone-preview .xbee-dropzone").css("border-color",n),d("#xbee-dropzone-preview .xbee-upload-icon").attr("fill",n),d("#xbee-dropzone-preview .xbee-upload-icon path").attr("fill",n)}xbeeLoadOverlay(),d(".xbee-copy-text").on("click",function(){var e=d("#"+d(this).data("copy")+" code").text(),t=n.createElement("textarea");t.value=e,n.body.appendChild(t),t.select(),n.execCommand("copy"),n.body.removeChild(t)}),d(".wrap.xbee .color-field").wpColorPicker({color:!1,mode:"hsl",controls:{horiz:"s",vert:"l",strip:"h"},hide:!0,change:function(){e()},clear:function(){e()},border:!1,target:!1,width:260,palettes:!1}),d(".wp-color-result-text").text(""),e(),d("#xbee-dropzone-layout input, #xbee-dropzone-layout select").on("change paste keyup",function(){e()});var r=[],s=!1;d("#xbee-search-bees").on("change paste keyup keydown",function(t){xbeeShowSpinner("get-bees"),d("#xbee-search-bees-results").html("");var e=d(t.target).val();if(""!==e)if(d.isEmptyObject(r)&&!s){s=!0,d.ajax({url:xbeeDocumentAdminParams.ajaxUrl,method:"post",data:{action:"xbee_get_bees"},success:function(e){(e=JSON.parse(e)).result||(s=!1),r=e.result,o(d(t.target).val(),e.result,e.status,e.errors)},error:function(){s=!1,o(d(t.target).val(),response.result,response.status,response.errors)}})}else d.isEmptyObject(r)||o(d(t.target).val(),r);else o(e,r||[])})})}(jQuery,window,document);